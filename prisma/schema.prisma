generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Service {
  service_id    Int        @id @default(autoincrement())
  service_name  String
  service_desc  String
  service_image String
  service_type  String
  categories    Category[]
}

model Category {
  category_id    Int     @id @default(autoincrement())
  type_Of_Repair String
  raw            Float
  tax            Float
  shipping       Float
  timeFrame      String
  total          Float
  service_id     Int
  labour         Int     @default(100)
  service        Service @relation(fields: [service_id], references: [service_id])

  @@index([service_id], map: "Category_service_id_fkey")
}

model Brand {
  brand_id    Int      @id @default(autoincrement())
  brand_name  String
  brand_image String
  brand_desc  String
  series      Series[]
}

model Series {
  series_id    Int     @id @default(autoincrement())
  series_name  String
  series_image String
  series_desc  String
  brand_id     Int
  model        Model[]
  brand        Brand   @relation(fields: [brand_id], references: [brand_id])

  @@index([brand_id], map: "Series_brand_id_fkey")
}

model Model {
  model_id       Int             @id @default(autoincrement())
  model_name     String
  model_image    String
  series_id      Int
  series         Series          @relation(fields: [series_id], references: [series_id])
  modelCategorys ModelCategory[]

  @@index([series_id], map: "Model_series_id_fkey")
}

model ModelCategory {
  modelCategory_id Int    @id @default(autoincrement())
  type_of_repair   String
  raw              Float
  tax              Float
  shipping         Float
  timeFrame        String
  total            Float
  model_id         Int
  model            Model  @relation(fields: [model_id], references: [model_id])

  @@index([model_id], map: "ModelCategory_model_id_fkey")
}

model Staff {
  staff_id      Int    @id @default(autoincrement())
  staff_name    String
  mobile_number String
  email         String
}
